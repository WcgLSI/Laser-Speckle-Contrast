%% Goal :main program,System calibration
%% Target: camera  ,Determine camera dark current and its variance
I = read_raw('G:\1\');%%   Dark Current Image Path
Nd = 7;%% pixel window
[nd, vard] = estimate_darkcurrent(I,Nd);%% camera dark current and its variance

%% Target:relection standard ,Determine the system noise characteristics and the coherence factor
%sample_path is a collection of data paths of reflection standard,which can be observed from 'estimate_var'.
for number =1:n
 sample_path = ['G:\LSI\' num2str(number) '\'];
 end
p = estimate_var(nd,vard,Nd,sample_path);%%Determine the noise parameters of the whole system 
[beta] = estimate_Beta(sample_path, nd, vard,Nd);%%Determine the coherence factor, Î²
save('T');%Save the resulting system parameter results
